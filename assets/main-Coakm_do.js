import{r as x,d as p}from"./main-Dv7ROdF4.js";import"./vendor-Bcn1fxYS.js";const S=3e3,_=15,b=10,w=150;function y(){const s=document.querySelector(".upbc-banner-image"),e=document.getElementById("carreras-hero-carousel");if(!s||!e)return;const t=s.offsetHeight;e.style.height=`${t}px`}function B(){const s=window.innerWidth;return s>=992?4:s>=768?2:1}function g(){return window.innerWidth>=768?2:1}function I(){const s=document.querySelector(".simple-carousel-track"),e=document.querySelectorAll(".simple-carousel-item"),t=document.getElementById("carreras-prev"),n=document.getElementById("carreras-next"),i=document.getElementById("carreras-dots");if(!s||!e.length||!i)return;let a=0;const d=e.length;i.innerHTML="";for(let o=0;o<d;o+=1){const r=document.createElement("button");r.type="button",r.style.cssText=`
      width: 10px;
      height: 10px;
      border-radius: 50%;
      border: 2px solid white;
      background: ${o===0?"white":"transparent"};
      cursor: pointer;
      padding: 0;
      transition: all 0.3s;
    `,r.addEventListener("click",()=>v(o)),i.appendChild(r)}const m=i.querySelectorAll("button");function h(){const o=-(a*100);s.style.transform=`translateX(${o}%)`,m.forEach((r,u)=>{const l=u===a;r.style.background=l?"white":"transparent",r.style.transform=l?"scale(1.3)":"scale(1)"})}function v(o){a=o,h()}function c(){a=(a+1)%d,h()}function f(){a=(a-1+d)%d,h()}t&&!t.dataset.carouselBound&&(t.addEventListener("click",f),t.dataset.carouselBound="true"),n&&!n.dataset.carouselBound&&(n.addEventListener("click",c),n.dataset.carouselBound="true"),window.__UPBC_CARRERAS_AUTOPLAY__&&clearInterval(window.__UPBC_CARRERAS_AUTOPLAY__),window.__UPBC_CARRERAS_AUTOPLAY__=setInterval(c,S),h()}function C(){const s=document.getElementById("servicios-carousel-track"),e=document.querySelectorAll(".servicio-item"),t=document.getElementById("servicios-prev"),n=document.getElementById("servicios-next");if(!s||!e.length)return;let i=0;const a=e.length;function d(){const c=100/B();e.forEach(o=>{o.style.minWidth=`calc(${c}% - ${_}px)`});const f=-(i*c);s.style.transform=`translateX(${f}%)`}function m(){const v=B(),c=a-v;i<c&&(i+=1,d())}function h(){i>0&&(i-=1,d())}t&&!t.dataset.carouselBound&&(t.addEventListener("click",h),t.dataset.carouselBound="true"),n&&!n.dataset.carouselBound&&(n.addEventListener("click",m),n.dataset.carouselBound="true"),window.__UPBC_SERVICIOS_RESIZE__&&window.removeEventListener("resize",window.__UPBC_SERVICIOS_RESIZE__),window.__UPBC_SERVICIOS_RESIZE__=p(()=>{i=0,d()},w),window.addEventListener("resize",window.__UPBC_SERVICIOS_RESIZE__),d()}function A(){const s=document.getElementById("news-carousel"),e=document.querySelectorAll(".news-item"),t=document.getElementById("news-prev"),n=document.getElementById("news-next"),i=document.querySelectorAll(".news-page-indicator");if(!s||!e.length)return;let a=0;const d=e.length;function m(){const c=g(),f=100/c;e.forEach(u=>{u.style.minWidth=`calc(${f}% - ${b}px)`});const o=-(a*f);s.style.transform=`translateX(${o}%)`;const r=Math.floor(a/c);i.forEach((u,l)=>{const E=l===r;u.style.background=E?"#602b82":"#ddd",u.style.transform=E?"scale(1.2)":"scale(1)"})}function h(){const c=g(),f=d-c;a<f&&(a+=1,m())}function v(){a>0&&(a-=1,m())}t&&!t.dataset.carouselBound&&(t.addEventListener("click",v),t.dataset.carouselBound="true"),n&&!n.dataset.carouselBound&&(n.addEventListener("click",h),n.dataset.carouselBound="true"),i.forEach((c,f)=>{c.dataset.carouselBound||(c.addEventListener("click",()=>{const o=g();a=f*o,m()}),c.dataset.carouselBound="true")}),window.__UPBC_NEWS_RESIZE__&&window.removeEventListener("resize",window.__UPBC_NEWS_RESIZE__),window.__UPBC_NEWS_RESIZE__=p(()=>{a=0,m()},w),window.addEventListener("resize",window.__UPBC_NEWS_RESIZE__),m()}function P(){const s=document.querySelectorAll(".accordion");s.length&&s.forEach(e=>{const t=e.querySelector(".accordion-head"),n=e.querySelector(".accordion-body"),i=e.querySelector(".icon i");!t||!n||!i||e.dataset.accordionBound||(t.addEventListener("click",()=>{const a=e.classList.contains("active");s.forEach(d=>{const m=d.querySelector(".accordion-body"),h=d.querySelector(".icon i");m&&(m.style.maxHeight="0"),h&&(h.style.transform="rotate(0deg)"),d.classList.remove("active")}),a||(n.style.maxHeight=`${n.scrollHeight}px`,i.style.transform="rotate(180deg)",e.classList.add("active"))}),t.addEventListener("mouseenter",function(){this.style.background="#f8f9fa"}),t.addEventListener("mouseleave",function(){this.style.background="#fff"}),e.dataset.accordionBound="true")})}function R(){document.querySelectorAll(".servicio-card").forEach(e=>{e.dataset.hoverBound||(e.addEventListener("mouseenter",function(){this.style.transform="translateY(-5px)",this.style.boxShadow="0 8px 25px rgba(0,0,0,0.15)"}),e.addEventListener("mouseleave",function(){this.style.transform="translateY(0)",this.style.boxShadow="0 3px 15px rgba(0,0,0,0.1)"}),e.dataset.hoverBound="true")}),document.querySelectorAll(".servicio-link").forEach(e=>{e.dataset.hoverBound||(e.addEventListener("mouseenter",function(){this.style.gap="12px"}),e.addEventListener("mouseleave",function(){this.style.gap="8px"}),e.dataset.hoverBound="true")}),document.querySelectorAll(".meeting-item").forEach(e=>{e.dataset.hoverBound||(e.addEventListener("mouseenter",function(){this.style.transform="translateY(-8px)",this.style.boxShadow="0 10px 30px rgba(0,0,0,0.15)";const n=this.querySelector("img");n&&(n.style.transform="scale(1.1)")}),e.addEventListener("mouseleave",function(){this.style.transform="translateY(0)",this.style.boxShadow="0 5px 20px rgba(0,0,0,0.1)";const n=this.querySelector("img");n&&(n.style.transform="scale(1)")}),e.dataset.hoverBound="true")}),document.querySelectorAll(".categories ul li a").forEach(e=>{e.dataset.hoverBound||(e.addEventListener("mouseenter",function(){this.style.background="rgba(255, 255, 255, 0.1)"}),e.addEventListener("mouseleave",function(){this.style.background="transparent"}),e.dataset.hoverBound="true")}),document.querySelectorAll(".accordion-body a").forEach(e=>{e.dataset.hoverBound||(e.addEventListener("mouseenter",function(){this.style.color="#602b82",this.style.paddingLeft="5px"}),e.addEventListener("mouseleave",function(){this.style.color="#666",this.style.paddingLeft="0"}),e.dataset.hoverBound="true")}),document.querySelectorAll(".apply-now .item").forEach(e=>{e.dataset.hoverBound||(e.addEventListener("mouseenter",function(){this.style.transform="translateY(-5px)"}),e.addEventListener("mouseleave",function(){this.style.transform="translateY(0)"}),e.dataset.hoverBound="true")}),document.querySelectorAll(".vinculacion-item").forEach(e=>{e.dataset.hoverBound||(e.addEventListener("mouseenter",function(){this.style.transform="translateY(-10px)",this.style.boxShadow="0 15px 40px rgba(0,0,0,0.15)"}),e.addEventListener("mouseleave",function(){this.style.transform="translateY(0)",this.style.boxShadow="0 3px 20px rgba(0,0,0,0.08)"}),e.dataset.hoverBound="true")}),document.querySelectorAll(".our-vinculacion .main-button-red a").forEach(e=>{e.dataset.hoverBound||(e.addEventListener("mouseenter",function(){this.style.transform="scale(1.05)",this.style.boxShadow="0 6px 20px rgba(96, 43, 130, 0.4)"}),e.addEventListener("mouseleave",function(){this.style.transform="scale(1)",this.style.boxShadow="0 4px 15px rgba(96, 43, 130, 0.3)"}),e.dataset.hoverBound="true")}),document.querySelectorAll(".historia-item").forEach(e=>{e.dataset.hoverBound||(e.addEventListener("mouseenter",function(){this.style.transform="translateY(-5px)",this.style.boxShadow="0 8px 30px rgba(96,43,130,0.15)"}),e.addEventListener("mouseleave",function(){this.style.transform="translateY(0)",this.style.boxShadow="0 4px 20px rgba(96,43,130,0.08)"}),e.dataset.hoverBound="true")}),document.querySelectorAll(".our-historias .main-button-yellow a").forEach(e=>{e.dataset.hoverBound||(e.addEventListener("mouseenter",function(){this.style.transform="scale(1.05)",this.style.background="#f5a425"}),e.addEventListener("mouseleave",function(){this.style.transform="scale(1)",this.style.background="#cd8b47"}),e.dataset.hoverBound="true")});const s=document.getElementById("form-submit");s&&!s.dataset.hoverBound&&(s.addEventListener("mouseenter",function(){this.style.background="#7d3a9e",this.style.transform="translateY(-2px)",this.style.boxShadow="0 6px 20px rgba(96, 43, 130, 0.4)"}),s.addEventListener("mouseleave",function(){this.style.background="#602b82",this.style.transform="translateY(0)",this.style.boxShadow="none"}),s.dataset.hoverBound="true")}function q(){const s=p(y,w);y(),window.addEventListener("resize",s);const e=document.querySelector(".upbc-banner-image img");e&&!e.dataset.heightBound&&(e.addEventListener("load",y),e.dataset.heightBound="true"),I(),C(),A(),P(),R()}x(()=>{q(),console.log("✅ UPBC Web - Página principal inicializada")});document.addEventListener("DOMContentLoaded",()=>{const s=document.getElementById("chatbot-container");if(!s)return;const e=new URL("/UPBC-Team/assets/chatbot-ecMfcQ8w.html",import.meta.url),t=new URL("/UPBC-Team/assets/conversation-DJsWdf-E.json",import.meta.url);fetch(e.href).then(n=>n.text()).then(n=>{s.innerHTML=n,N(t)}).catch(n=>console.error("Error al cargar el chatbot:",n))});function N(s){let e={};const t=document.getElementById("chat-window"),n=document.getElementById("chat-modal");if(!t||!n){console.error("Elementos del chatbot no encontrados en el DOM.");return}function i(){setTimeout(()=>{t.scrollTop=t.scrollHeight},50)}const a=new URL(s.href);a.searchParams.set("v",Date.now().toString()),fetch(a.href).then(o=>o.json()).then(o=>{const r=Array.isArray(o)?o:Array.isArray(o?.nodes)?o.nodes:[];if(!r.length){console.error("No se encontraron nodos de conversación en el JSON.");return}e=r.reduce((l,E)=>(l[E.id]=E,l),{});const u=typeof o?.startNode=="string"&&e[o.startNode]?o.startNode:"inicio_start";v(u)}).catch(o=>console.error("Error al cargar la conversación:",o));function d(o){const r=document.createElement("div");r.className="message bot-message";const u=o.replace(/\n/g,"<br>");r.innerHTML=u,t.appendChild(r),i()}function m(o){const r=document.createElement("div");r.className="options-container",o.forEach(u=>{const l=document.createElement("button");l.className="option-button",l.textContent=u.label,l.dataset.next=u.next,l.addEventListener("click",h),r.appendChild(l)}),t.appendChild(r),i()}function h(o){const r=o.target.textContent,u=o.target.dataset.next,l=document.createElement("div");l.className="message user-message",l.textContent=r,t.appendChild(l),t.querySelectorAll(".options-container").forEach(L=>L.remove()),i(),setTimeout(()=>{v(u)},300)}function v(o){const r=e[o];if(!r){console.error(`Nodo "${o}" no encontrado en la conversación.`);return}d(r.text),r.options&&r.options.length>0&&m(r.options)}const c=document.getElementById("chat-toggle"),f=document.getElementById("chat-close");c&&n&&f&&(c.addEventListener("click",()=>{n.classList.toggle("open"),n.classList.contains("open")&&i()}),f.addEventListener("click",()=>n.classList.remove("open")),document.addEventListener("keydown",o=>{o.key==="Escape"&&n.classList.contains("open")&&n.classList.remove("open")}))}
